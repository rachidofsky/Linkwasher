<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EmailCleaner ‚Äî Strip tracking from links</title>
  <meta name="description" content="Paste an email or URL and remove common tracking parameters (utm_*, gclid, fbclid, etc.). All processing happens locally in your browser." />
  <style>
    :root{
      --bg:#0a0e1a;
      --card:#0f1419;
      --muted:#94a3b8;
      --accent:#06b6d4;
      --accent-light:#67e8f9;
      --accent-dark:#0891b2;
      --text:#f1f5f9;
      --text-dim:#cbd5e1;
      --glass:rgba(255,255,255,0.05);
      --glass-border:rgba(255,255,255,0.1);
      --success:#10b981;
      --warning:#f59e0b;
      --danger:#ef4444;
    }
    
    /* Light Mode Theme */
    [data-theme="light"]{
      --bg:#f8fafc;
      --card:#ffffff;
      --muted:#64748b;
      --accent:#0891b2;
      --accent-light:#0e7490;
      --accent-dark:#164e63;
      --text:#1e293b;
      --text-dim:#475569;
      --glass:rgba(0,0,0,0.05);
      --glass-border:rgba(0,0,0,0.1);
      --success:#059669;
      --warning:#d97706;
      --danger:#dc2626;
    }
    
    [data-theme="light"] body{
      background:radial-gradient(ellipse at top, #e2e8f0 0%, #f1f5f9 50%, #f8fafc 100%);
    }
    
    [data-theme="light"] .navbar{
      background:rgba(248,250,252,0.95);
      border-bottom:1px solid rgba(0,0,0,0.1);
    }
    
    [data-theme="light"] .sidebar-ad{
      background:linear-gradient(135deg,rgba(0,0,0,0.02),rgba(0,0,0,0.05));
      border:1px dashed rgba(0,0,0,0.1);
    }
    
    [data-theme="light"] .sidebar-ad:hover{
      background:linear-gradient(135deg,rgba(0,0,0,0.05),rgba(0,0,0,0.08));
      border-color:rgba(0,0,0,0.2);
    }
    
    [data-theme="light"] textarea{
      border:2px solid rgba(0,0,0,0.1);
      background:rgba(0,0,0,0.02);
    }
    
    [data-theme="light"] textarea:focus{
      border-color:var(--accent);
      background:rgba(0,0,0,0.05);
      box-shadow:0 0 0 3px rgba(8,145,178,0.1);
    }
    
    *{box-sizing:border-box}
    
    html,body{height:100%;scroll-behavior:smooth}
    
    body{
      font-family:'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background:radial-gradient(ellipse at top, #1e293b 0%, #0f172a 50%, #020617 100%);
      background-attachment:fixed;
      color:var(--text);
      margin:0;
      padding:140px 20px 20px 20px;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    
    /* Fixed Navigation Bar */
    .navbar{
      position:fixed;
      top:0;
      left:0;
      right:0;
      background:rgba(15,20,25,0.95);
      backdrop-filter:blur(20px);
      border-bottom:1px solid rgba(255,255,255,0.1);
      padding:16px 0;
      z-index:1000;
      transition:all 0.3s ease;
      height:72px;
      box-sizing:border-box;
    }
    
    .nav-container{
      max-width:1200px;
      margin:0 auto;
      padding:0 20px;
      display:flex;
      align-items:center;
      justify-content:space-between;
    }
    
    .nav-logo{
      display:flex;
      align-items:center;
      gap:12px;
      text-decoration:none;
      color:inherit;
    }
    
    .nav-logo-icon{
      width:40px;
      height:40px;
      display:grid;
      place-items:center;
      border-radius:8px;
      background:linear-gradient(135deg, var(--accent-light), var(--accent));
      font-weight:800;
      font-size:16px;
      color:#0a0e1a;
      transition:transform 0.3s ease;
    }
    
    .nav-logo:hover .nav-logo-icon{
      transform:scale(1.05);
    }
    
    .nav-logo-text{
      font-size:20px;
      font-weight:700;
      background:linear-gradient(135deg, var(--text), var(--accent-light));
      background-clip:text;
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }
    
    .nav-links{
      display:flex;
      gap:32px;
      align-items:center;
    }
    
    .nav-links a{
      color:var(--text-dim);
      text-decoration:none;
      font-size:14px;
      font-weight:500;
      transition:all 0.3s ease;
      padding:8px 0;
      position:relative;
    }
    
    .nav-links a:hover{
      color:var(--accent-light);
    }
    
    .nav-links a::after{
      content:'';
      position:absolute;
      bottom:0;
      left:0;
      width:0;
      height:2px;
      background:var(--accent);
      transition:width 0.3s ease;
    }
    
    .nav-links a:hover::after{
      width:100%;
    }
    
    .nav-links a.active{
      color:var(--accent-light);
    }
    
    .nav-links a.active::after{
      width:100%;
    }
    
    /* Dark Mode Toggle */
    .theme-toggle{
      background:none;
      border:2px solid rgba(255,255,255,0.2);
      color:var(--text-dim);
      padding:8px 12px;
      border-radius:8px;
      cursor:pointer;
      font-size:14px;
      transition:all 0.3s ease;
      display:flex;
      align-items:center;
      gap:6px;
      margin-left:16px;
    }
    
    .theme-toggle:hover{
      background:rgba(255,255,255,0.1);
      border-color:var(--accent);
      color:var(--accent-light);
    }
    
    .theme-toggle:active{
      transform:scale(0.95);
    }
    
    [data-theme="light"] .theme-toggle{
      border-color:rgba(0,0,0,0.2);
    }
    
    [data-theme="light"] .theme-toggle:hover{
      background:rgba(0,0,0,0.1);
      border-color:var(--accent);
    }
    
    .wrap{
      width:100%;
      max-width:1000px;
      animation:fadeInUp 0.6s ease-out;
      position:relative;
    }
    
    /* Sidebar Ad Containers */
    .sidebar-ads{
      position:fixed;
      top:50%;
      transform:translateY(-50%);
      z-index:10;
    }
    
    .sidebar-ad-left{
      left:20px;
    }
    
    .sidebar-ad-right{
      right:20px;
    }
    
    .sidebar-ad{
      width:160px;
      height:600px;
      background:linear-gradient(135deg,rgba(255,255,255,0.02),rgba(255,255,255,0.05));
      border:1px dashed rgba(255,255,255,0.1);
      border-radius:12px;
      display:flex;
      align-items:center;
      justify-content:center;
      color:var(--muted);
      font-size:12px;
      text-align:center;
      padding:20px;
      backdrop-filter:blur(10px);
      transition:all 0.3s ease;
    }
    
    .sidebar-ad:hover{
      background:linear-gradient(135deg,rgba(255,255,255,0.05),rgba(255,255,255,0.08));
      border-color:rgba(255,255,255,0.2);
    }
    
    @keyframes fadeInUp{
      from{opacity:0;transform:translateY(30px)}
      to{opacity:1;transform:translateY(0)}
    }
    
    @keyframes pulse{
      0%,100%{transform:scale(1)}
      50%{transform:scale(1.05)}
    }
    
    @keyframes slideIn{
      from{opacity:0;transform:translateX(-20px)}
      to{opacity:1;transform:translateX(0)}
    }
    
    header{
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:16px;
      margin-bottom:32px;
      text-align:center;
    }
    
    .logo{
      width:72px;
      height:72px;
      display:grid;
      place-items:center;
      border-radius:16px;
      background:linear-gradient(135deg, var(--accent-light), var(--accent));
      font-weight:800;
      font-size:24px;
      color:#0a0e1a;
      box-shadow:0 8px 32px rgba(6,182,212,0.3);
      transition:transform 0.3s ease;
    }
    
    .logo:hover{
      transform:scale(1.05);
      animation:pulse 2s infinite;
    }
    
    h1{
      margin:0;
      font-size:32px;
      font-weight:800;
      background:linear-gradient(135deg, var(--text), var(--accent-light));
      background-clip:text;
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      letter-spacing:-0.02em;
    }
    
    p.lead{
      margin:8px 0 0 0;
      color:var(--text-dim);
      font-size:16px;
      line-height:1.5;
      max-width:500px;
    }

    .card{
      background:linear-gradient(135deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
      backdrop-filter:blur(20px);
      padding:32px;
      border-radius:20px;
      border:1px solid var(--glass-border);
      box-shadow:0 20px 40px rgba(0,0,0,0.4), 0 0 0 1px rgba(255,255,255,0.05);
      transition:transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .card:hover{
      transform:translateY(-2px);
      box-shadow:0 25px 50px rgba(0,0,0,0.5), 0 0 0 1px rgba(255,255,255,0.1);
    }

    label{
      font-size:14px;
      font-weight:600;
      color:var(--text-dim);
      display:block;
      margin-bottom:12px;
      letter-spacing:0.02em;
    }
    
    textarea{
      width:100%;
      min-height:180px;
      padding:16px;
      border-radius:12px;
      border:2px solid rgba(255,255,255,0.1);
      background:rgba(255,255,255,0.02);
      color:var(--text);
      font-size:15px;
      font-family:inherit;
      resize:vertical;
      transition:border-color 0.3s ease, background 0.3s ease;
      line-height:1.5;
    }
    
    textarea:focus{
      outline:none;
      border-color:var(--accent);
      background:rgba(255,255,255,0.05);
      box-shadow:0 0 0 3px rgba(6,182,212,0.1);
    }
    
    textarea::placeholder{
      color:var(--muted);
      opacity:0.7;
    }
    
    .controls{
      display:flex;
      gap:12px;
      flex-wrap:wrap;
      margin-top:20px;
    }
    
    button{
      background:linear-gradient(135deg, var(--accent), var(--accent-dark));
      border:none;
      padding:12px 20px;
      border-radius:12px;
      color:#0a0e1a;
      cursor:pointer;
      font-weight:600;
      font-size:14px;
      transition:all 0.3s ease;
      box-shadow:0 4px 12px rgba(6,182,212,0.3);
      position:relative;
      overflow:hidden;
    }
    
    button:hover{
      transform:translateY(-2px);
      box-shadow:0 8px 20px rgba(6,182,212,0.4);
    }
    
    button:active{
      transform:translateY(0);
    }
    
    button.ghost{
      background:transparent;
      border:2px solid rgba(255,255,255,0.1);
      color:var(--text-dim);
      box-shadow:none;
    }
    
    button.ghost:hover{
      background:rgba(255,255,255,0.05);
      border-color:var(--accent);
      color:var(--accent-light);
      box-shadow:0 4px 12px rgba(6,182,212,0.2);
    }
    
    .output{
      margin-top:24px;
    }
    
    .hint{
      color:var(--muted);
      font-size:14px;
      font-weight:500;
      margin-bottom:16px;
      display:flex;
      align-items:center;
      gap:8px;
    }
    
    #count{
      color:var(--accent);
      font-weight:700;
    }
    
    .link-list{
      list-style:none;
      padding:0;
      margin:0;
      display:grid;
      gap:12px;
    }
    
    .link-item{
      padding:16px;
      border-radius:12px;
      background:linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.03));
      border:1px solid rgba(255,255,255,0.1);
      display:flex;
      flex-direction:column;
      transition:all 0.3s ease;
      animation:slideIn 0.4s ease-out;
    }
    
    .link-item:hover{
      background:linear-gradient(135deg, rgba(255,255,255,0.12), rgba(255,255,255,0.06));
      border-color:var(--accent);
      transform:translateY(-1px);
    }
    
    .original{
      font-size:12px;
      color:var(--muted);
      font-family:'JetBrains Mono', monospace;
      background:rgba(0,0,0,0.2);
      padding:8px 12px;
      border-radius:6px;
      margin-bottom:8px;
      overflow:hidden;
      text-overflow:ellipsis;
      white-space:nowrap;
    }
    
    .clean{
      font-weight:600;
      color:var(--text);
      line-height:1.4;
    }
    
    .clean a{
      color:var(--accent-light);
      text-decoration:none;
      word-break:break-all;
      transition:color 0.3s ease;
    }
    
    .clean a:hover{
      color:var(--accent);
      text-decoration:underline;
    }
    
    .meta{
      display:flex;
      gap:12px;
      align-items:center;
      margin-top:12px;
      flex-wrap:wrap;
    }
    
    .tag{
      font-size:11px;
      font-weight:600;
      text-transform:uppercase;
      letter-spacing:0.05em;
      padding:4px 8px;
      border-radius:6px;
      border:1px solid;
    }
    
    .tag:contains('cleaned'){
      color:var(--success);
      background:rgba(16,185,129,0.1);
      border-color:var(--success);
    }
    
    .tag:contains('unchanged'){
      color:var(--warning);
      background:rgba(245,158,11,0.1);
      border-color:var(--warning);
    }

    footer{
      margin-top:24px;
      padding-top:20px;
      border-top:1px solid rgba(255,255,255,0.1);
      color:var(--muted);
      font-size:13px;
      line-height:1.6;
    }
    
    footer strong{
      color:var(--accent-light);
    }

    @media (max-width:1400px){
      .sidebar-ads{display:none}
    }

    @media (max-width:768px){
      body{padding:120px 16px 16px 16px}
      .card{padding:24px}
      header{flex-direction:column;text-align:center;gap:16px}
      .logo{width:64px;height:64px;font-size:20px}
      h1{font-size:28px}
      p.lead{font-size:15px}
      .controls{gap:8px}
      button{padding:10px 16px;font-size:13px}
      
      .nav-container{padding:0 16px}
      .nav-links{gap:20px}
      .nav-links a{font-size:13px}
      .nav-logo-text{font-size:18px}
      .nav-logo-icon{width:36px;height:36px;font-size:14px}
      .theme-toggle{padding:6px 10px;font-size:12px;margin-left:12px}
    }
    
    @media (max-width:480px){
      .card{padding:20px}
      h1{font-size:24px}
      textarea{min-height:140px}
      .controls{flex-direction:column}
      button{width:100%}
      
      .nav-links{gap:16px}
      .nav-links a{font-size:12px}
      .nav-logo-text{display:none}
      .theme-toggle{padding:6px 8px;margin-left:8px}
      .theme-toggle span:last-child{display:none}
    }
  </style>
</head>
<body>
  <!-- Fixed Navigation Bar -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="#" class="nav-logo">
        <div class="nav-logo-icon">EC</div>
        <div class="nav-logo-text">EmailCleaner</div>
      </a>
      <div class="nav-links">
        <a href="index.html" class="active">Home</a>
        <a href="about.html">About</a>
        <a href="contact.html">Contact</a>
        <button class="theme-toggle" id="themeToggle">
          <span id="themeIcon">üåô</span>
          <span id="themeText">Dark</span>
        </button>
      </div>
    </div>
  </nav>

  <!-- Sidebar Ads -->
  <div class="sidebar-ads sidebar-ad-left">
    <div class="sidebar-ad">
      <!-- 
      ====================================================================
      ADSENSE PLACEMENT #1: LEFT SIDEBAR SKYSCRAPER (160x600)
      Replace this entire div content with your AdSense code:
      ====================================================================
      -->
      <div>
        <div style="font-weight:600;margin-bottom:8px;">AdSense</div>
        <div>Skyscraper</div>
        <div>160x600</div>
        <div style="margin-top:8px;font-size:10px;opacity:0.7;">Left Sidebar</div>
      </div>
      <!-- END ADSENSE PLACEMENT #1 -->
    </div>
  </div>
  
  <div class="sidebar-ads sidebar-ad-right">
    <div class="sidebar-ad">
      <!-- 
      ====================================================================
      ADSENSE PLACEMENT #2: RIGHT SIDEBAR SKYSCRAPER (160x600)
      Replace this entire div content with your AdSense code:
      ====================================================================
      -->
      <div>
        <div style="font-weight:600;margin-bottom:8px;">AdSense</div>
        <div>Skyscraper</div>
        <div>160x600</div>
        <div style="margin-top:8px;font-size:10px;opacity:0.7;">Right Sidebar</div>
      </div>
      <!-- END ADSENSE PLACEMENT #2 -->
    </div>
  </div>

  <div class="wrap">
    <header>
      <!-- 
      ====================================================================
      ADSENSE PLACEMENT #3: TOP BANNER (728x90 Desktop / 320x50 Mobile)
      Add your AdSense banner code here if desired:
      ====================================================================
      
      <div style="text-align:center;margin-bottom:20px;">
        [PASTE YOUR ADSENSE BANNER CODE HERE]
      </div>
      
      ====================================================================
      -->
      <div>
        <h1>Clean Your Links Instantly</h1>
        <p class="lead">Remove tracking parameters from URLs and emails with one click. Privacy-focused, works entirely in your browser.</p>
      </div>
    </header>

    <main class="card" role="main">
      <label for="input">Paste email body or one/multiple links</label>
      <textarea id="input" placeholder="Paste email text or a URL here... (e.g. https://example.com?utm_source=newsletter&utm_medium=email)"></textarea>

      <div class="controls">
        <button id="cleanBtn">‚ú® Clean Links</button>
        <button id="extractBtn" class="ghost">üîó Extract Links Only</button>
        <button id="clearBtn" class="ghost">üßπ Clear</button>
        <button id="copyAllBtn" class="ghost">üìã Copy All Cleaned</button>
      </div>

      <div class="output" aria-live="polite">
        <div class="hint">Found <span id="count">0</span> link(s).</div>
        <ul id="list" class="link-list" style="margin-top:12px"></ul>
      </div>

      <footer>
        <div>Privacy: All processing is done locally in your browser. No data leaves your device.</div>
        <div style="margin-top:6px">Tip: Use the <strong>Extract Links Only</strong> button to find raw URLs inside pasted HTML or forwarded emails.</div>
        
        <!-- 
        ====================================================================
        ADSENSE PLACEMENT #4: BOTTOM CONTENT AD (320x100 or 728x90)
        Add your AdSense code below the footer text:
        ====================================================================
        
        <div style="text-align:center;margin-top:20px;padding-top:20px;border-top:1px solid rgba(255,255,255,0.1);">
          [PASTE YOUR ADSENSE BOTTOM AD CODE HERE]
        </div>
        
        ====================================================================
        -->
      </footer>
    </main>
  </div>

<script>
(() => {
  const input = document.getElementById('input');
  const cleanBtn = document.getElementById('cleanBtn');
  const extractBtn = document.getElementById('extractBtn');
  const clearBtn = document.getElementById('clearBtn');
  const copyAllBtn = document.getElementById('copyAllBtn');
  const list = document.getElementById('list');
  const count = document.getElementById('count');

  const TRACKING_PARAMS = [
    'utm_source','utm_medium','utm_campaign','utm_term','utm_content',
    'gclid','fbclid','mc_cid','mc_eid','igshid','si','_hsenc','_hsmi','yclid','pk_campaign','pk_kwd'
  ];

  function findUrls(text){
    // Find URLs in plain text and in href="..."
    const urls = new Set();
    // href="..." and src=".."
    const hrefRegex = /(?:href|src)=\"([^\"]+)\"/ig;
    let m;
    while((m = hrefRegex.exec(text)) !== null){
      try{ urls.add(m[1]); }catch(e){}
    }
    // Plain URLs
    const urlRegex = /https?:\/\/[\w\-._~:\/?#\[\]@!$&'()*+,;=%]+/ig;
    while((m = urlRegex.exec(text)) !== null){
      urls.add(m[0]);
    }
    return Array.from(urls);
  }

  function cleanURL(url){
    try{
      // If missing protocol, try to add http
      if(!/^https?:\/\//i.test(url)){
        // leave as-is if mailto: or tel:
        if(/^mailto:|^tel:/i.test(url)) return url;
        url = 'https://' + url;
      }
      const u = new URL(url);
      TRACKING_PARAMS.forEach(p => u.searchParams.delete(p));
      // Also remove params that start with utm_
      [...u.searchParams.keys()].forEach(k => { if(/^utm_/i.test(k)) u.searchParams.delete(k) });
      // Remove empty search string
      const search = u.searchParams.toString();
      let out = u.origin + u.pathname + (search ? '?' + search : '') + (u.hash || '');
      // If we added https:// to original lacking protocol, and original didn't have it, strip it back
      if(!/^https?:\/\//i.test(url) && !/^https?:\/\//i.test(url)){}
      return out;
    }catch(e){
      return url; // fallback: return original
    }
  }

  function render(urls){
    list.innerHTML = '';
    count.textContent = urls.length;
    
    if(urls.length===0) {
      list.innerHTML = '<li style="text-align:center;color:var(--muted);padding:40px;font-style:italic;">No links found. Try pasting some email content or URLs above.</li>';
      return;
    }
    
    urls.forEach((u, index) => {
      const cleaned = cleanURL(u);
      const li = document.createElement('li');
      li.className = 'link-item';
      li.style.animationDelay = `${index * 0.1}s`;
      
      const o = document.createElement('div'); 
      o.className='original'; 
      o.title = u; 
      o.textContent = `Original: ${u}`;
      
      const c = document.createElement('div'); 
      c.className='clean';
      const a = document.createElement('a'); 
      a.href = cleaned; 
      a.textContent = cleaned; 
      a.target = '_blank'; 
      a.rel = 'noopener noreferrer';
      c.appendChild(a);
      
      const meta = document.createElement('div'); 
      meta.className='meta';
      
      const tag = document.createElement('div'); 
      tag.className='tag';
      const isChanged = cleaned !== u;
      tag.textContent = isChanged ? 'cleaned' : 'unchanged';
      tag.style.color = isChanged ? 'var(--success)' : 'var(--warning)';
      tag.style.background = isChanged ? 'rgba(16,185,129,0.1)' : 'rgba(245,158,11,0.1)';
      tag.style.borderColor = isChanged ? 'var(--success)' : 'var(--warning)';
      
      const openBtn = document.createElement('button'); 
      openBtn.className='ghost'; 
      openBtn.style.padding='6px 12px';
      openBtn.style.fontSize='12px';
      openBtn.textContent='üîó Open';
      openBtn.onclick = () => window.open(cleaned,'_blank','noopener');
      
      const copyBtn = document.createElement('button');
      copyBtn.className='ghost';
      copyBtn.style.padding='6px 12px';
      copyBtn.style.fontSize='12px';
      copyBtn.textContent='üìã Copy';
      copyBtn.onclick = async () => {
        try {
          await navigator.clipboard.writeText(cleaned);
          copyBtn.textContent = '‚úÖ Copied!';
          copyBtn.style.color = 'var(--success)';
          setTimeout(() => {
            copyBtn.textContent = 'üìã Copy';
            copyBtn.style.color = '';
          }, 2000);
        } catch (e) {
          const ta = document.createElement('textarea');
          ta.value = cleaned;
          document.body.appendChild(ta);
          ta.select();
          document.execCommand('copy');
          ta.remove();
          copyBtn.textContent = '‚úÖ Copied!';
          copyBtn.style.color = 'var(--success)';
          setTimeout(() => {
            copyBtn.textContent = 'üìã Copy';
            copyBtn.style.color = '';
          }, 2000);
        }
      };
      
      meta.appendChild(tag); 
      meta.appendChild(copyBtn);
      meta.appendChild(openBtn);
      li.appendChild(o); 
      li.appendChild(c); 
      li.appendChild(meta);
      list.appendChild(li);
    });
  }

  cleanBtn.addEventListener('click', ()=>{
    const text = input.value || '';
    cleanBtn.textContent = 'üîÑ Processing...';
    cleanBtn.disabled = true;
    
    setTimeout(() => {
      const urls = findUrls(text);
      render(urls);
      cleanBtn.textContent = '‚ú® Clean Links';
      cleanBtn.disabled = false;
      
      if(urls.length > 0) {
        // Add success feedback
        const hint = document.querySelector('.hint');
        hint.style.color = 'var(--success)';
        setTimeout(() => {
          hint.style.color = 'var(--muted)';
        }, 3000);
      }
    }, 300);
  });

  extractBtn.addEventListener('click', ()=>{
    const text = input.value || '';
    extractBtn.textContent = 'üîç Extracting...';
    extractBtn.disabled = true;
    
    setTimeout(() => {
      const urls = findUrls(text);
      // If none and text looks like a single URL, try that
      if(urls.length===0 && text.trim().length>0){
        urls.push(text.trim());
      }
      render(urls);
      extractBtn.textContent = 'üîó Extract Links Only';
      extractBtn.disabled = false;
    }, 300);
  });

  clearBtn.addEventListener('click', ()=>{ 
    input.value = ''; 
    list.innerHTML=''; 
    count.textContent='0';
    clearBtn.textContent = 'üóëÔ∏è Cleared!';
    setTimeout(() => {
      clearBtn.textContent = 'üßπ Clear';
    }, 1500);
  });

  copyAllBtn.addEventListener('click', async ()=>{
    const anchors = Array.from(list.querySelectorAll('a')).map(a=>a.href);
    if(anchors.length===0) return;
    
    copyAllBtn.disabled = true;
    copyAllBtn.textContent = 'üìã Copying...';
    
    const text = anchors.join('\n');
    try{
      await navigator.clipboard.writeText(text);
      copyAllBtn.textContent = '‚úÖ All Copied!';
      copyAllBtn.style.background = 'linear-gradient(135deg, var(--success), #059669)';
      setTimeout(()=>{
        copyAllBtn.textContent='üìã Copy All Cleaned';
        copyAllBtn.style.background = '';
        copyAllBtn.disabled = false;
      }, 2500);
    }catch(e){
      // fallback
      const ta = document.createElement('textarea'); 
      ta.value = text; 
      document.body.appendChild(ta); 
      ta.select(); 
      document.execCommand('copy'); 
      ta.remove();
      copyAllBtn.textContent = '‚úÖ All Copied!';
      copyAllBtn.style.background = 'linear-gradient(135deg, var(--success), #059669)';
      setTimeout(()=>{
        copyAllBtn.textContent='üìã Copy All Cleaned';
        copyAllBtn.style.background = '';
        copyAllBtn.disabled = false;
      }, 2500);
    }
  });

  // Optional: auto-extract links when paste
  input.addEventListener('paste', (ev)=>{
    setTimeout(()=>{
      const urls = findUrls(input.value || '');
      if(urls.length>0) render(urls);
    }, 50);
  });

  // quick sample on first load
  const sample = 'https://example.com/page?utm_source=newsletter&utm_medium=email&utm_campaign=spring&fbclid=XYZ https://another.com?gclid=abc#section';
  input.value = sample;
  render(findUrls(sample));

  // Navbar scroll effect
  let lastScrollY = window.scrollY;
  window.addEventListener('scroll', () => {
    const navbar = document.querySelector('.navbar');
    if (window.scrollY > lastScrollY && window.scrollY > 100) {
      navbar.style.transform = 'translateY(-100%)';
    } else {
      navbar.style.transform = 'translateY(0)';
    }
    lastScrollY = window.scrollY;
  });

  // Smooth scroll for navigation links
  document.querySelectorAll('.nav-links a[href^="#"]').forEach(link => {
    link.addEventListener('click', (e) => {
      e.preventDefault();
      const target = document.querySelector(link.getAttribute('href'));
      if (target) {
        target.scrollIntoView({ behavior: 'smooth' });
      }
    });
  });

  // Dark Mode Toggle
  const themeToggle = document.getElementById('themeToggle');
  const themeIcon = document.getElementById('themeIcon');
  const themeText = document.getElementById('themeText');
  const html = document.documentElement;

  // Check for saved theme preference or default to dark
  const currentTheme = localStorage.getItem('theme') || 'dark';
  html.setAttribute('data-theme', currentTheme);
  updateThemeButton(currentTheme);

  themeToggle.addEventListener('click', () => {
    const currentTheme = html.getAttribute('data-theme');
    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
    
    html.setAttribute('data-theme', newTheme);
    localStorage.setItem('theme', newTheme);
    updateThemeButton(newTheme);
  });

  function updateThemeButton(theme) {
    if (theme === 'light') {
      themeIcon.textContent = '‚òÄÔ∏è';
      themeText.textContent = 'Light';
    } else {
      themeIcon.textContent = 'üåô';
      themeText.textContent = 'Dark';
    }
  }

})();
</script>
</body>
</html>
